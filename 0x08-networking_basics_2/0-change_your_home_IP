#!/usr/bin/env bash
# This script configures an Ubuntu server to meet specific hostname resolution requirements.

# Backup the original hosts file
sudo cp /etc/hosts /etc/hosts.bak
# Change localhost resolution to 127.0.0.2
sudo sed -i 's/127.0.0.1 localhost/127.0.0.2 localhost/' /etc/hosts
# Change facebook.com resolution to 8.8.8.8
sudo sed -i 's/[0-9]\+\.[0-9]\+\.[0-9]\+\.[0-9]\+ facebook.com/8.8.8.8 facebook.com/' /etc/hosts
# Display the updated hosts file
cat /etc/hosts
# Inform the user to revert changes if needed
echo "Note: If you continue to use this machine, revert localhost to 127.0.0.1 after testing."
