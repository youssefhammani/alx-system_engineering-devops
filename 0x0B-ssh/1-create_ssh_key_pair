#!/usr/bin/env bash
# This script creates an RSA key pair with specific requirements

# Define the key name
KEY_NAME="school"

# Define the number of bits for the key
BITS=4096

# Define the passphrase
PASSPHRASE="betty"

# Check if the key files already exist
if [ -e "$KEY_NAME" ] || [ -e "$KEY_NAME.pub" ]; then
    echo "Key files already exist. Please remove or backup existing keys."
    exit 1
fi

# Generate the RSA key pair with passphrase
ssh-keygen -t rsa -b "$BITS" -C "Generated by 1-create_ssh_key_pair" -N "$PASSPHRASE" -f "$KEY_NAME"

# Display the key fingerprint and randomart image
ssh-keygen -l -E md5 -f "$KEY_NAME"

# Display success message
echo "RSA key pair created successfully:"
ls "$KEY_NAME" "$KEY_NAME.pub"